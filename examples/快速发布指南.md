# 快速发布到 npm 指南

## 发布前检查

1. **确保已构建**：
```bash
npm run build
```

2. **检查构建输出**：
```bash
# 检查标准构建
ls dist/editor/Editor.js

# 检查 Vue3 构建
ls dist/vue3/Editor.js
ls dist/vue3/extensions/
```

3. **测试打包**（不实际发布）：
```bash
npm pack --dry-run
```

## 发布步骤

### 1. 登录 npm

```bash
npm login
```

### 2. 更新版本号

```bash
# 方式一：使用 npm version（推荐，会自动创建 git tag）
npm version patch   # 7.3.8 -> 7.3.9
npm version minor   # 7.3.8 -> 7.4.0
npm version major   # 7.3.8 -> 8.0.0

# 方式二：手动编辑 package.json 中的 version 字段
```

### 3. 发布

```bash
npm publish
```

如果包名包含作用域（如 `@username/svgedit`），需要添加 `--access public`：

```bash
npm publish --access public
```

## 发布后使用

### 安装

```bash
npm install svgedit
```

### 在 Vue3 项目中使用

```javascript
import Editor from 'svgedit/vue3'
import 'svgedit/vue3/css'

const editor = new Editor(containerElement)
await editor.init()
```

## 更新版本流程

```bash
# 1. 修改代码
# 2. 构建
npm run build

# 3. 更新版本号
npm version patch

# 4. 发布
npm publish
```

## 注意事项

- 确保 `dist` 目录包含所有必要文件
- 确保 `dist/vue3` 目录存在且包含扩展
- 版本号遵循语义化版本规范
- 发布前建议运行 `npm pack --dry-run` 检查

